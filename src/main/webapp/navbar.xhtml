<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="jakarta.faces.html"
      xmlns:f="jakarta.faces.core"
      xmlns:ui="jakarta.faces.facelets">

<h:head>
    <title>Navigation Bar</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.2.0/flowbite.min.css" rel="stylesheet" />
    <!-- Add Font Awesome for icons -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet" />
</h:head>

<h:body>
    <nav class="bg-white border-b border-gray-200 px-4 py-2.5 fixed left-0 right-0 top-0 z-50">
        <div class="flex flex-wrap justify-between items-center">
            <!-- Logo and Brand -->
            <div class="flex items-center">
                <h:graphicImage value="/resources/images/logo.png" styleClass="h-9 mr-3" rendered="false"/>
                <img src="/api/placeholder/36/36" alt="Logo" class="h-9 mr-3"/>
                <span class="self-center text-xl font-semibold whitespace-nowrap dark:text-white">Facult√© des Sciences</span>
            </div>

            <!-- Navigation Items -->
            <div class="flex items-center justify-between space-x-4">
                <h:form styleClass="flex items-center space-x-4">
                    <!-- Dashboard -->
                    <h:commandLink action="#{navigationBean.goToDashboard}"
                                   styleClass="flex items-center px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg group">
                        <i class="fas fa-chart-line mr-2"></i>
                        <span>Dashboard</span>
                    </h:commandLink>

                    <!-- Exams -->
                    <h:commandLink action="#{navigationBean.goToExams}"
                                   styleClass="flex items-center px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg group">
                        <i class="fas fa-file-alt mr-2"></i>
                        <span>Exams</span>
                    </h:commandLink>

                    <!-- Surveillance -->
                    <h:commandLink action="#{navigationBean.goToSurveillance}"
                                   styleClass="flex items-center px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg group">
                        <i class="fas fa-eye mr-2"></i>
                        <span>Surveillance</span>
                    </h:commandLink>

                    <!-- Emploi -->
                    <h:commandLink action="#{navigationBean.goToEmploi}"
                                   styleClass="flex items-center px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg group">
                        <i class="fas fa-briefcase mr-2"></i>
                        <span>Emploi</span>
                    </h:commandLink>

                    <!-- Options -->
                    <h:commandLink action="#{navigationBean.goToOptions}"
                                   styleClass="flex items-center px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg group">
                        <i class="fas fa-cog mr-2"></i>
                        <span>Options</span>
                    </h:commandLink>

                    <!-- Departements -->
                    <h:commandLink action="#{navigationBean.goToDepartements}"
                                   styleClass="flex items-center px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg group">
                        <i class="fas fa-building mr-2"></i>
                        <span>Departements</span>
                    </h:commandLink>

                    <!-- Locaux -->
                    <h:commandLink action="#{navigationBean.goToLocaux}"
                                   styleClass="flex items-center px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg group">
                        <i class="fas fa-door-open mr-2"></i>
                        <span>Locaux</span>
                    </h:commandLink>

                    <!-- User Profile -->
                    <button type="button"
                            class="flex items-center ml-4 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg p-2"
                            onclick="toggleUserMenu()">
                        <i class="fas fa-user"></i>
                    </button>

                    <!-- User Dropdown Menu -->
                    <div id="userMenu"
                         class="hidden absolute right-4 top-14 z-50 bg-white divide-y divide-gray-100 rounded-lg shadow w-44">
                        <ul class="py-2 text-sm text-gray-700">
                            <li>
                                <h:commandLink value="Profile" action="#{navigationBean.goToProfile}"
                                               styleClass="block px-4 py-2 hover:bg-gray-100"/>
                            </li>
                            <li>
                                <h:commandLink value="Settings" action="#{navigationBean.goToSettings}"
                                               styleClass="block px-4 py-2 hover:bg-gray-100"/>
                            </li>
                            <li>
                                <h:commandLink value="Logout" action="#{navigationBean.logout}"
                                               styleClass="block px-4 py-2 hover:bg-gray-100"/>
                            </li>
                        </ul>
                    </div>
                </h:form>
            </div>
        </div>
    </nav>

    <!-- JavaScript for user dropdown -->
    <script>
        function toggleUserMenu() {
            const menu = document.getElementById('userMenu');
            menu.classList.toggle('hidden');
        }

        // Close the menu when clicking outside
        document.addEventListener('click', function(event) {
            const menu = document.getElementById('userMenu');
            const userBtn = event.target.closest('button');
            if (!userBtn &amp;&amp; !menu.classList.contains('hidden')) {
                menu.classList.add('hidden');
            }
        });
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.2.0/flowbite.min.js"></script>
</h:body>
</html>