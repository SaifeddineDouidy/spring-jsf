<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
<head>
    <title>Dashboard</title>

    <!-- Tailwind CSS -->
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@3.3.0/dist/tailwind.min.css" rel="stylesheet"/>

    <!-- Flowbite CSS -->
    <link href="https://cdn.jsdelivr.net/npm/flowbite@1.6.0/dist/flowbite.min.css" rel="stylesheet"/>
</head>
<body class="bg-gray-50 min-h-screen ">

<header class="flex items-center justify-between p-4 bg-white shadow-md">
    <div class="flex items-center space-x-4">
        <img src="path/to/logo.png" alt="Logo" class="h-10"/>
    </div>
    <!-- User Icon -->
    <div class="flex items-center space-x-4">
        <img src="css/profil.png" alt="User Icon" class="h-10 w-10 rounded-full border border-gray-300"/>
    </div>
</header>

<button id="openModalBtn" class="absolute top-8 right-3 mt-4  bg-blue-900 text-white py-2 px-4 rounded-full shadow-lg hover:bg-white hover:text-gray-900 transition duration-200 flex items-center" >
    <span class="mr-2">+</span> Ajouter une nouvelle session
</button>



<!-- Modal - Form -->
<div id="sessionModal" class="hidden fixed inset-0 bg-gray-500 bg-opacity-50 flex justify-center items-center z-50">
    <div class="w-full max-w-2xl bg-white shadow-lg rounded-lg p-8 relative">
        <!-- Close Button in Top-Right Corner -->
        <button id="closeModalBtn" class="absolute top-4 right-3 mr-4 text-gray-500 hover:text-gray-700 text-xl font-bold">
            X
        </button>

        <h1 class="text-3xl font-semibold text-gray-800 mb-6">Créer une nouvelle session</h1>

        <h:form>
            <!-- Dropdown for Type -->
            <div class="mb-6">
                <h:outputLabel for="type" value="Type de session:"  class="block text-sm font-medium text-gray-700 mb-2"/>
                <h:selectOneMenu id="type" value="#{sessionBean.type}" styleClass="block w-full px-4 py-2 border border-gray-300 rounded-lg text-gray-700 focus:ring-blue-800 focus:border-blue-800">
                    <f:selectItem itemValue="" itemLabel="-- Sélectionner le type --"/>
                    <f:selectItem itemValue="Normal d'hiver" itemLabel="Normal d'hiver"/>
                    <f:selectItem itemValue="Normal de printemps" itemLabel="Normal de printemps"/>
                    <f:selectItem itemValue="Rattrapage d'hiver" itemLabel="Rattrapage d'hiver"/>
                    <f:selectItem itemValue="Rattrapage de printemps" itemLabel="Rattrapage de printemps"/>
                </h:selectOneMenu>

            </div>

            <!-- Start Date -->
            <div class="mb-6">
                <h:outputLabel for="startDate" value="Date de début:" class="block text-sm font-medium text-gray-700 mb-2"/>
                <div class="relative">
                    <h:inputText id="startDate" value="#{sessionBean.startDate}"  type="date"
                                 styleClass="block w-full px-4 py-2 border border-gray-300 rounded-lg text-gray-700 focus:ring-blue-800 focus:border-blue-800"/>
                </div>
            </div>

            <!-- End Date -->
            <div class="mb-6">
                <h:outputLabel for="endDate" value="Date de fin:" class="block text-sm font-medium text-gray-700 mb-2"/>
                <div class="relative">
                    <h:inputText id="endDate" value="#{sessionBean.endDate}" type="date"
                                 styleClass="block w-full px-4 py-2 border border-gray-300 rounded-lg text-gray-700 focus:ring-blue-800 focus:border-blue-800"/>
                </div>
            </div>

            <!-- Save Button -->
            <div class="mt-6">
                <h:commandButton value="Enregistrer la session" action="#{sessionBean.saveSession}"
                                 styleClass="w-full bg-blue-900 text-white py-3 rounded-lg font-medium hover:bg-blue-700 transition duration-200"/>
            </div>

            <!-- Error Messages -->
            <h:messages globalOnly="true" styleClass="mt-4 text-sm text-red-500"/>

        </h:form>
    </div>
</div>

<h2 class="text-2xl font-semibold text-gray-800 mt-8 text-center">Liste des sessions</h2>




<!-- Flowbite and Tailwind JavaScript -->
<script src="https://cdn.jsdelivr.net/npm/flowbite@1.6.0/dist/flowbite.min.js"></script>

<script>

    // Open Modal
    document.getElementById('openModalBtn').addEventListener('click', function() {
        document.getElementById('sessionModal').classList.remove('hidden');
        localStorage.setItem('isModalOpen', 'true'); // Store the modal state
    });

    // Close Modal
    document.getElementById('closeModalBtn').addEventListener('click', function() {
        document.getElementById('sessionModal').classList.add('hidden');
        localStorage.removeItem('isModalOpen'); // Clear the modal state
    });

    // Check the modal state on page load
    window.addEventListener('DOMContentLoaded', (event) => {
        if (localStorage.getItem('isModalOpen') === 'true') {
            document.getElementById('sessionModal').classList.remove('hidden');
        }
    });

</script>

</body>
</html>
